<!-- SettingsControl.xaml -->
<UserControl x:Class="AESCConstruct2026.FrameGenerator.UI.SettingsControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Width="300"
             Background="White"
             Loaded="UserControl_Loaded">

    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/AESCConstruct2026;component/UIMain/Styles.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>

    <Grid Margin="0,0,0,0">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        <ScrollViewer VerticalScrollBarVisibility="Auto"
                      HorizontalScrollBarVisibility="Disabled"
                      Height="588"
                      Grid.Column="0">
            <Grid Margin="20">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="50" />
                    <RowDefinition Height="50" />
                </Grid.RowDefinitions>

                <!-- Title -->
                <TextBlock Tag="Settings_Title"
                           Grid.Row="0"
                           Style="{StaticResource TitleTextStyle}"
                           Text="Settings"
                           HorizontalAlignment="Center"
                           Margin="0,0,0,10" />

                <StackPanel Grid.Row="1"
                            Orientation="Vertical"
                            VerticalAlignment="Top">

                    <!-- Part naming -->
                    <Expander Tag="Expander_PartNaming"
                              Header="Part naming"
                              IsExpanded="False">
                        <GroupBox Tag="Group_NamingScheme"
                                  Header="Naming scheme"
                                  Margin="0,10">
                            <StackPanel Margin="4">
                                <Grid Margin="0,0,0,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Tag="Label_PartNaming"
                                               Text="Part naming:"
                                               VerticalAlignment="Center"
                                               Grid.Column="0" />
                                    <TextBox x:Name="PartNameTextBox"
                                             Height="30"
                                             Margin="5,0,0,0"
                                             Grid.Column="1" />
                                </Grid>
                                <DataGrid x:Name="TypesDataGrid"
                                          AutoGenerateColumns="False"
                                          HeadersVisibility="Column"
                                          Height="170">
                                    <DataGrid.Columns>
                                        <DataGridTextColumn x:Name="Column_Type"
                                                            Header="Type"
                                                            Binding="{Binding Type}"
                                                            Width="70" />
                                        <DataGridTextColumn x:Name="Column_Name"
                                                            Header="Name"
                                                            Binding="{Binding Name}"
                                                            Width="50" />
                                        <DataGridTextColumn x:Name="Column_Template"
                                                            Header="Naming scheme"
                                                            Binding="{Binding Template}"
                                                            Width="*" />
                                    </DataGrid.Columns>
                                </DataGrid>
                                <Grid Margin="0,6,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="60" />
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Tag="Label_Decimals"
                                               Text="Decimals:"
                                               VerticalAlignment="Center"
                                               Grid.Column="0" />
                                    <TextBox x:Name="DecimalsTextBox"
                                             Height="24"
                                             Margin="5,0,0,0"
                                             Grid.Column="1" />
                                </Grid>
                                <Grid Margin="0,6,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="80" />
                                        <ColumnDefinition Width="20" />
                                    </Grid.ColumnDefinitions>
                                    <CheckBox x:Name="FrameColorCheckBox"
                                              Tag="Checkbox_FrameColor"
                                              Content="Profile color:"
                                              VerticalAlignment="Center"
                                              Grid.Column="0"
                                              Checked="FrameColorCheckBox_Changed"
                                              Unchecked="FrameColorCheckBox_Changed" />
                                    <TextBox x:Name="FrameColorTextBox"
                                             Height="24"
                                             Margin="5,0,0,0"
                                             Grid.Column="1"
                                             IsEnabled="{Binding IsChecked, ElementName=FrameColorCheckBox}"
                                             TextChanged="FrameColorTextBox_TextChanged" />
                                    <Rectangle x:Name="FrameColorPreview"
                                               Width="16"
                                               Height="16"
                                               Margin="4,0,0,0"
                                               Grid.Column="2"
                                               Stroke="Gray"
                                               StrokeThickness="0.5" />
                                </Grid>
                            </StackPanel>
                        </GroupBox>
                    </Expander>

                    <!-- BOM placement -->
                    <Expander Tag="Expander_BOMPlacement"
                              Header="BOM settings"
                              IsExpanded="False">
                        <StackPanel>
                            <GroupBox Tag="Group_CoordinatesOrigin"
                                      Header="Coordinates and origin"
                                      Margin="0,10,0,5">
                                <StackPanel>
                                    <Grid Margin="4">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="50" />
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>

                                        <TextBlock Tag="Label_AnchorX"
                                                   Grid.Row="0"
                                                   Grid.Column="0"
                                                   Text="Anchor X:"
                                                   VerticalAlignment="Center" />
                                        <TextBox x:Name="AnchorXTextBox"
                                                 Grid.Row="0"
                                                 Grid.Column="1"
                                                 Height="20"
                                                 Margin="5,0" />

                                        <TextBlock Tag="Label_AnchorY"
                                                   Grid.Row="1"
                                                   Grid.Column="0"
                                                   Text="Anchor Y:"
                                                   VerticalAlignment="Center" />
                                        <TextBox x:Name="AnchorYTextBox"
                                                 Grid.Row="1"
                                                 Grid.Column="1"
                                                 Height="20"
                                                 Margin="5,0" />

                                        <TextBlock Tag="Label_Corner"
                                                   Grid.Row="0"
                                                   Grid.Column="2"
                                                   Margin="5,0"
                                                   Text="Corner:"
                                                   VerticalAlignment="Center" />
                                        <ComboBox x:Name="CornerComboBox"
                                                  Grid.Row="0"
                                                  Grid.Column="3"
                                                  ItemsSource="{Binding CornerOptions}"
                                                  Style="{StaticResource ComboBoxFlatStyle}" />
                                    </Grid>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock Tag="Label_BOMAnchor"
                                                   Grid.Row="0"
                                                   Grid.Column="0"
                                                   Text="Drawing sheet anchor:"
                                                   VerticalAlignment="Center" />
                                        <ComboBox x:Name="Label_BOMAnchorComboBox"
                                                  Grid.Row="0"
                                                  Grid.Column="1"
                                                  ItemsSource="{Binding AnchorOptions}"
                                                  Style="{StaticResource ComboBoxFlatStyle}" />
                                    </Grid>
                                </StackPanel>
                            </GroupBox>

                            <GroupBox Tag="Group_Units"
                                      Header="Units"
                                      Margin="0,0,0,5">
                                <Grid Margin="4">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition />
                                        <RowDefinition />
                                    </Grid.RowDefinitions>

                                    <TextBlock Tag="Label_BOMLengthUnit"
                                               Grid.Row="0"
                                               Grid.Column="0"
                                               Text="Unit Length:"
                                               VerticalAlignment="Center" />
                                    <ComboBox x:Name="Label_BOMLengthUnitComboBox"
                                              Grid.Row="0"
                                              Grid.Column="1"
                                              ItemsSource="{Binding UnitOptions}"
                                              Style="{StaticResource ComboBoxFlatStyle}" />
                                </Grid>
                            </GroupBox>
                        </StackPanel>
                    </Expander>

                    <!-- Material options -->
                    <Expander Tag="Expander_MaterialOptions"
                              Header="Material options"
                              IsExpanded="False">
                        <GroupBox Tag="Group_MaterialInclusion"
                                  Header="Material Inclusion"
                                  Margin="0,10">
                            <StackPanel Margin="4">
                                <CheckBox x:Name="Checkbox_ExcelMaterial"
                                          Tag="Checkbox_ExcelMaterial"
                                          Content="Include material in Excel" />
                                <CheckBox x:Name="Checkbox_BOMMaterial"
                                          Tag="Checkbox_BOMMaterial"
                                          Content="Include material in BOM" />
                                <CheckBox x:Name="Checkbox_STEPMaterial"
                                          Tag="Checkbox_STEPMaterial"
                                          Content="Include material in STEP filename" />
                            </StackPanel>
                        </GroupBox>
                    </Expander>
                    <Expander Tag="Expander_Language"
                              Header="Language"
                              IsExpanded="False">
                        <StackPanel Margin="8">
                            <TextBlock Tag="Label_SelectLanguage"
                                       Text="Select language:"
                                       Margin="0,0,0,4" />
                            <ComboBox x:Name="ComboBox_Language"
                                      SelectionChanged="ComboBox_Language_SelectionChanged"
                                      Style="{StaticResource ComboBoxFlatStyle}" />
                        </StackPanel>
                    </Expander>

                    <!-- Language -->

                    <Expander Header="CSV File Paths"
                              Tag="CSVFilePaths"
                              Name="CsvFileExpander"
                              IsExpanded="False">
                        <ScrollViewer VerticalScrollBarVisibility="Auto"
                                      HorizontalScrollBarVisibility="Disabled"
                                      Height="250"
                                      Margin="0,5,0,5">
                            <!-- Adjust height as needed -->
                            <StackPanel x:Name="CsvPathsPanel"
                                        Margin="0,8,0,6">
                                <!-- Rows will be added dynamically -->
                            </StackPanel>
                        </ScrollViewer>
                    </Expander>

                    <!-- License -->
                    <Expander Tag="Expander_License"
                              Header="License"
                              IsExpanded="False">
                        <Grid Margin="0,8,0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition />
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="55" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition />
                                    <RowDefinition />
                                </Grid.RowDefinitions>
                                <Image Grid.Row="0"
                                       Grid.Column="0"
                                       Source="/AESCConstruct2026;component/UIMain/Images/AESC_Logo.png"
                                       Width="55"
                                       Margin="0" />
                                <Grid Margin="0"
                                      Grid.Row="0"
                                      Grid.Column="1">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Row="0"
                                               Grid.Column="0"
                                               Text="AESC Construct" />
                                    <TextBlock Tag="Label_Version"
                                               Grid.Row="1"
                                               Grid.ColumnSpan="2"
                                               Grid.Column="0"
                                               Text="Version 2025.1.5"
                                               VerticalAlignment="Center" />
                                    <TextBlock Tag="Label_LicenseStatus"
                                               Grid.Row="2"
                                               Grid.Column="0"
                                               Text="License Status:"
                                               VerticalAlignment="Center" />
                                    <TextBlock x:Name="LicenseStatusValue"
                                               Grid.Row="2"
                                               Grid.Column="1"
                                               Tag="Label_LicenseStatusValue"
                                               Text=""
                                               VerticalAlignment="Center" />
                                    <TextBlock Tag="Label_LicenseDetails"
                                               Grid.Row="3"
                                               Grid.Column="0"
                                               Text="License Expiration:"
                                               VerticalAlignment="Center"
                                               Grid.ColumnSpan="2"
                                               Margin="0,0,103,0" />
                                    <TextBlock x:Name="LicenseDetailsValue"
                                               Grid.Row="3"
                                               Grid.Column="1"
                                               Tag="Label_LicenseDetailsValue"
                                               Text=""
                                               VerticalAlignment="Center" />
                                    <TextBlock Tag="Label_LicenseType"
                                               Grid.Row="4"
                                               Grid.Column="0"
                                               Text="License type:"
                                               VerticalAlignment="Center"
                                               Grid.ColumnSpan="2"
                                               Margin="0,0,103,0" />
                                    <TextBlock x:Name="LicenseTypeValue"
                                               Grid.Row="4"
                                               Grid.Column="1"
                                               Tag="Label_LicenseDetailsValue"
                                               Text=""
                                               VerticalAlignment="Center" />
                                    <TextBlock Tag="Label_SerialNumber"
                                               Grid.Row="5"
                                               Grid.Column="0"
                                               Text="Serial Number:"
                                               VerticalAlignment="Center" />
                                </Grid>
                                <Grid Grid.Row="1"
                                      Grid.Column="1">
                                    <TextBox x:Name="SerialNumberTextBox"
                                             VerticalAlignment="Center"
                                             Margin="1,0,0,0" />
                                    <TextBlock IsHitTestVisible="False"
                                               Text="Enter serial number Here"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Left"
                                               Margin="10,0,0,0"
                                               Foreground="DarkGray">
                                        <TextBlock.Style>
                                            <Style TargetType="{x:Type TextBlock}">
                                                <Setter Property="Visibility"
                                                        Value="Collapsed" />
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding Text, ElementName=SerialNumberTextBox}"
                                                                 Value="">
                                                        <Setter Property="Visibility"
                                                                Value="Visible" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBlock.Style>
                                    </TextBlock>
                                </Grid>
                            </Grid>
                            <Button Tag="Button_ActivateLicense"
                                    Grid.Row="1"
                                    Grid.Column="0"
                                    Style="{StaticResource FooterButtonStyle}"
                                    Content="Activate"
                                    Click="ActivateLicenseButton_Click"
                                    Width="70" />
                        </Grid>
                    </Expander>
                </StackPanel>

                <!-- Save button -->
                <Button Tag="Button_Save"
                        Grid.Row="2"
                        Content="Save"
                        Style="{StaticResource FooterButtonStyle}"
                        HorizontalAlignment="Center"
                        Margin="0,10"
                        Click="SaveButton_Click" />
                <!-- Save button -->
                <StackPanel Orientation="Horizontal"
                            HorizontalAlignment="Center"
                            Width="260"
                            Grid.Row="3">
                    <Button Tag="ImportSettings"
                            Content="Import settings"
                            Style="{StaticResource FooterButtonStyle}"
                            HorizontalAlignment="Center"
                            Margin="0,10,10,10"
                            Click="ImportSettingsButton_Click" />

                    <Button Tag="ExportSettings"
                            Content="Export settings"
                            Style="{StaticResource FooterButtonStyle}"
                            HorizontalAlignment="Center"
                            Margin="10,10, 0, 10"
                            Click="ExportSettingsButton_Click" />
                </StackPanel>
            </Grid>
        </ScrollViewer>
    </Grid>
</UserControl>
