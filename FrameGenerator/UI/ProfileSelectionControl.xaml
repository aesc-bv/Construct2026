<!-- ProfileSelectionControl.xaml (with Tag attributes added) -->
<UserControl x:Class="AESCConstruct2026.FrameGenerator.UI.ProfileSelectionControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Width="300"
             Height="700"
             Background="White">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/AESCConstruct2026;component/UIMain/Styles.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>

    <ScrollViewer VerticalScrollBarVisibility="Auto"
                  HorizontalScrollBarVisibility="Disabled"
                  Margin="0"
                  MaxWidth="300">
        <Grid Margin="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <!-- 1) BIG HEADER -->
            <TextBlock Grid.Row="0"
                       Style="{StaticResource TitleTextStyle}"
                       Tag="GenerateProfileHeader"
                       Text="Generate Profile"
                       Width="230"
                       HorizontalAlignment="Center"
                       Margin="0,0,0,0" />

            <!-- 2) SCROLLABLE MIDDLE -->
            <StackPanel Grid.Row="1">
                <StackPanel>
                    <!-- profile selector -->
                    <Grid HorizontalAlignment="Center"
                          Margin="0,10,0,10"
                          Width="230"
                          x:Name="ProfileGroupContainer">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="80" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="80" />
                        </Grid.ColumnDefinitions>
                        <RadioButton x:Name="RectangularProfileButton"
                                     Style="{StaticResource ProfileSelectorRadio}"
                                     GroupName="ProfileGroup"
                                     Tag="Rectangular"
                                     Height="30"
                                     Checked="ProfileButton_Checked"
                                     Margin="0,0,10,10"
                                     Grid.Row="0"
                                     Grid.Column="0">
                            <Image Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Icon_Frame_1.png"
                                   Width="25"
                                   Height="25" />
                        </RadioButton>
                        <RadioButton x:Name="CircularProfileButton"
                                     GroupName="ProfileGroup"
                                     Tag="Circular"
                                     Height="30"
                                     Checked="ProfileButton_Checked"
                                     Grid.Row="0"
                                     Grid.Column="1"
                                     Margin="0,0,0,10">
                            <Image Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Icon_Frame_2.png"
                                   Width="25"
                                   Height="25" />
                        </RadioButton>
                        <RadioButton x:Name="HProfileButton"
                                     GroupName="ProfileGroup"
                                     Tag="H"
                                     Height="30"
                                     Checked="ProfileButton_Checked"
                                     Grid.Row="0"
                                     Grid.Column="2"
                                     Margin="10,0,0,10">
                            <Image Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Icon_Frame_3.png"
                                   Width="25"
                                   Height="25" />
                        </RadioButton>
                        <RadioButton x:Name="LProfileButton"
                                     GroupName="ProfileGroup"
                                     Tag="L"
                                     Height="30"
                                     Checked="ProfileButton_Checked"
                                     Margin="0,0,10,0"
                                     Grid.Row="1"
                                     Grid.Column="0">
                            <Image Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Icon_Frame_4.png"
                                   Width="25"
                                   Height="25" />
                        </RadioButton>
                        <RadioButton x:Name="UProfileButton"
                                     GroupName="ProfileGroup"
                                     Tag="U"
                                     Height="30"
                                     Checked="ProfileButton_Checked"
                                     Grid.Row="1"
                                     Grid.Column="1"
                                     Margin="0,0,0,0">
                            <Image Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Icon_Frame_5.png"
                                   Width="25"
                                   Height="25" />
                        </RadioButton>
                        <RadioButton x:Name="TProfileButton"
                                     GroupName="ProfileGroup"
                                     Tag="T"
                                     Height="30"
                                     Checked="ProfileButton_Checked"
                                     Margin="10,0,0,0"
                                     Grid.Row="1"
                                     Grid.Column="2">
                            <Image Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Icon_Frame_6.png"
                                   Width="25"
                                   Height="25" />
                        </RadioButton>
                    </Grid>

                    <Grid Width="230">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <RadioButton x:Name="DXFProfileButton"
                                     Style="{StaticResource ProfileSelectorRadio}"
                                     Grid.Column="0"
                                     GroupName="ProfileGroup"
                                     Content="Custom profile"
                                     Tag="DXF"
                                     Height="25"
                                     Checked="ProfileButton_Checked">
                        </RadioButton>
                        <Button x:Name="ConvertDXFButton"
                                Style="{StaticResource IconFlatButton}"
                                Grid.Column="1"
                                Tag="ConvertDXF"
                                Width="20"
                                Height="20"
                                Margin="5,0,10,0"
                                Click="ConvertDXFButton_Click">
                            <Image Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Icon_Upload.png"
                                   Width="15"
                                   Height="15" />
                        </Button>
                    </Grid>

                    <!-- size + hollow -->
                    <StackPanel Name="SizeSelect"
                                Margin="0,10,0,0"
                                Width="230">
                        <Grid HorizontalAlignment="Center"
                              Margin="0,0,0,0"
                              Height="50">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="25" />
                                <RowDefinition Height="25" />
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="110" />
                                <ColumnDefinition Width="50" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <ComboBox x:Name="SizeComboBox"
                                      Tag="ProfileSize"
                                      Margin="0,0,0,0"
                                      SelectionChanged="SizeComboBox_SelectionChanged"
                                      Width="110"
                                      Height="25"
                                      Grid.Column="0"
                                      Grid.Row="0"
                                      Style="{StaticResource ComboBoxFlatStyle}" />
                            <Button x:Name="EditButton"
                                    Style="{StaticResource IconFlatButton}"
                                    Grid.Column="1"
                                    Tag="Edit sizes"
                                    Width="20"
                                    Height="20"
                                    Margin="5,0,5,0"
                                    Click="EditProfileSizes_Click"
                                    HorizontalAlignment="Left">
                                <Image Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Icon_Edit.png"
                                       Width="15"
                                       Height="15" />
                            </Button>

                            <StackPanel Orientation="Horizontal"
                                        Margin="0,0,0,0"
                                        Height="25"
                                        Grid.Column="2"
                                        Grid.Row="0"
                                        HorizontalAlignment="Right">
                                <Image Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Icon_Radius.png"
                                       Width="25"
                                       Height="25"
                                       Margin="0,0,5,0"
                                       HorizontalAlignment="Right" />
                                <TextBox x:Name="RotationAngleTextBox"
                                         TextAlignment="Center"
                                         Width="40"
                                         Height="25"
                                         Text="0"
                                         Margin="0"
                                         HorizontalAlignment="Right"
                                         TextChanged="RotationAngleTextBox_TextChanged" />
                            </StackPanel>

                            <CheckBox x:Name="HollowCheckBox"
                                      Tag="SolidProfileText"
                                      Content="Solid Profile"
                                      Margin="0,5,0,0"
                                      Checked="HollowCheckBox_Checked"
                                      Grid.Column="0"
                                      Grid.Row="1" />
                        </Grid>
                    </StackPanel>

                    <Grid x:Name="UserProfilesGridScrollView"
                          Margin="0,5,0,0"
                          Width="230"
                          Height="160"
                          Visibility="Collapsed">
                        <StackPanel Orientation="Vertical">

                            <StackPanel Orientation="Horizontal"
                                        Margin="0,0,0,0">
                                <TextBlock Tag="SearchLabel"
                                           Text="Search:"
                                           TextAlignment="Center"
                                           VerticalAlignment="Center"
                                           Width="40"
                                           Margin="0,0,0,0" />
                                <TextBox x:Name="ProfileSearchBox"
                                         Tag="SearchBox"
                                         Width="180"
                                         Height="25"
                                         Margin="10,0,0,0"
                                         TextChanged="ProfileSearchBox_TextChanged" />
                            </StackPanel>

                            <ScrollViewer VerticalScrollBarVisibility="Auto"
                                          HorizontalScrollBarVisibility="Disabled"
                                          Margin="0,10,0,0"
                                          Width="230"
                                          Height="125"
                                          Style="{StaticResource OutlinedScrollContainer}">
                                <UniformGrid Columns="1"
                                             Margin="0,0,0,0"
                                             x:Name="UserProfilesGrid"
                                             Width="230" />
                            </ScrollViewer>
                        </StackPanel>
                    </Grid>

                    <!-- dynamic fields and preview image (no text) -->
                    <Grid HorizontalAlignment="Center"
                          Margin="0,0,0,0"
                          Width="230"
                          x:Name="ProfileSizeEditFields"
                          Visibility="Collapsed"
                          >
                        <Grid.RowDefinitions>
                            <RowDefinition Height="auto" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="115" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <Grid x:Name="DynamicFieldsGrid"
                              Margin="0,0,0,0"
                              Width="115"
                              VerticalAlignment="Center"
                              Grid.Column="0" />
                        <Image Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Img_Measures_Frame_Rect.png"
                               Width="115"
                               x:Name="ProfilePreviewImage"
                               Stretch="Uniform"
                               Margin="0,0,0,0"
                               Grid.Column="1" />
                    </Grid>

                    <!-- offset -->
                    <Grid HorizontalAlignment="Center"
                          Margin="0,10,0,0"
                          Width="125">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="auto" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="auto" />
                        </Grid.ColumnDefinitions>
                        <Image x:Name="PlacementFrame"
                               Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Icon_Frame_H_BG.png"
                               Width="125"
                               Stretch="Uniform"
                               Visibility="Collapsed"
                               Margin="0,0,0,0" />
                        <UniformGrid x:Name="PlacementGrid"
                                     HorizontalAlignment="Center"
                                     Width="125"
                                     Height="125"
                                     Margin="0,0,0,0">
                            <RadioButton x:Name="Offset_TopLeft"
                                         Tag="TopLeft"
                                         Width="30"
                                         Height="30"
                                         GroupName="OffsetGroup"
                                         Checked="PlacementRadio_Checked"
                                         Style="{StaticResource RoundPlacementRadioStyle}">
                                <Image Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Icon_Arrow.png"
                                       Width="25"
                                       Height="25">
                                    <Image.RenderTransform>
                                        <RotateTransform Angle="45"
                                                         CenterX="12.5"
                                                         CenterY="12.5" />
                                    </Image.RenderTransform>
                                </Image>
                            </RadioButton>
                            <RadioButton x:Name="Offset_TopCenter"
                                         Tag="TopCenter"
                                         Width="30"
                                         Height="30"
                                         GroupName="OffsetGroup"
                                         Checked="PlacementRadio_Checked"
                                         Style="{StaticResource RoundPlacementRadioStyle}">
                                <Image Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Icon_Arrow.png"
                                       Width="25"
                                       Height="25">
                                    <Image.RenderTransform>
                                        <RotateTransform Angle="90"
                                                         CenterX="12.5"
                                                         CenterY="12.5" />
                                    </Image.RenderTransform>
                                </Image>
                            </RadioButton>
                            <RadioButton x:Name="Offset_TopRight"
                                         Tag="TopRight"
                                         Width="30"
                                         Height="30"
                                         GroupName="OffsetGroup"
                                         Checked="PlacementRadio_Checked"
                                         Style="{StaticResource RoundPlacementRadioStyle}">
                                <Image Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Icon_Arrow.png"
                                       Width="25"
                                       Height="25">
                                    <Image.RenderTransform>
                                        <RotateTransform Angle="135"
                                                         CenterX="12.5"
                                                         CenterY="12.5" />
                                    </Image.RenderTransform>
                                </Image>
                            </RadioButton>
                            <RadioButton x:Name="Offset_MiddleLeft"
                                         Tag="MidLeft"
                                         Width="30"
                                         Height="30"
                                         GroupName="OffsetGroup"
                                         Checked="PlacementRadio_Checked"
                                         Style="{StaticResource RoundPlacementRadioStyle}">
                                <Image Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Icon_Arrow.png"
                                       Width="25"
                                       Height="25">
                                    <Image.RenderTransform>
                                        <RotateTransform Angle="0"
                                                         CenterX="12.5"
                                                         CenterY="12.5" />
                                    </Image.RenderTransform>
                                </Image>
                            </RadioButton>
                            <RadioButton x:Name="Offset_Center"
                                         Tag="CenterPosition"
                                         Width="30"
                                         Height="30"
                                         GroupName="OffsetGroup"
                                         Checked="PlacementRadio_Checked"
                                         Style="{StaticResource RoundPlacementRadioStyle}"
                                         IsChecked="True">
                                <Image Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Icon_Arrow_Center_Active.png"
                                       Width="25"
                                       Height="25">
                                </Image>
                            </RadioButton>
                            <RadioButton x:Name="Offset_MiddleRight"
                                         Tag="MidRight"
                                         Width="30"
                                         Height="30"
                                         GroupName="OffsetGroup"
                                         Checked="PlacementRadio_Checked"
                                         Style="{StaticResource RoundPlacementRadioStyle}">
                                <Image Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Icon_Arrow.png"
                                       Width="25"
                                       Height="25">
                                    <Image.RenderTransform>
                                        <RotateTransform Angle="180"
                                                         CenterX="12.5"
                                                         CenterY="12.5" />
                                    </Image.RenderTransform>
                                </Image>
                            </RadioButton>
                            <RadioButton x:Name="Offset_BottomLeft"
                                         Tag="BotLeft"
                                         Width="30"
                                         Height="30"
                                         GroupName="OffsetGroup"
                                         Checked="PlacementRadio_Checked"
                                         Style="{StaticResource RoundPlacementRadioStyle}">
                                <Image Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Icon_Arrow.png"
                                       Width="25"
                                       Height="25">
                                    <Image.RenderTransform>
                                        <RotateTransform Angle="315"
                                                         CenterX="12.5"
                                                         CenterY="12.5" />
                                    </Image.RenderTransform>
                                </Image>
                            </RadioButton>
                            <RadioButton x:Name="Offset_BottomCenter"
                                         Tag="BotCenter"
                                         Width="30"
                                         Height="30"
                                         GroupName="OffsetGroup"
                                         Checked="PlacementRadio_Checked"
                                         Style="{StaticResource RoundPlacementRadioStyle}">
                                <Image Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Icon_Arrow.png"
                                       Width="25"
                                       Height="25">
                                    <Image.RenderTransform>
                                        <RotateTransform Angle="270"
                                                         CenterX="12.5"
                                                         CenterY="12.5" />
                                    </Image.RenderTransform>
                                </Image>
                            </RadioButton>
                            <RadioButton x:Name="Offset_BottomRight"
                                         Tag="BotRight"
                                         Width="30"
                                         Height="30"
                                         GroupName="OffsetGroup"
                                         Checked="PlacementRadio_Checked"
                                         Style="{StaticResource RoundPlacementRadioStyle}">
                                <Image Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Icon_Arrow.png"
                                       Width="25"
                                       Height="25">
                                    <Image.RenderTransform>
                                        <RotateTransform Angle="225"
                                                         CenterX="12.5"
                                                         CenterY="12.5" />
                                    </Image.RenderTransform>
                                </Image>
                            </RadioButton>
                        </UniformGrid>
                    </Grid>
                </StackPanel>
            </StackPanel>

            <!-- 3) GENERATE BUTTON -->
            <Grid Grid.Row="2"
                  Margin="0,10,0,0"
                  Width="230">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="100" />
                </Grid.ColumnDefinitions>
                <Button x:Name="GenerateButton"
                        Style="{StaticResource GenerateButtonStyle}"
                        Tag="GenerateProfileButton"
                        Margin="0,0"
                        Click="GenerateButton_Click"
                        Height="25"
                        Grid.Column="0">
                    <Grid Width="125">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="15" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Generate Profile"
                                    Tag="GenerateProfileButtonText"
                                    x:Name="GenerateProfileButtonText"
                                    Foreground="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    Grid.Column="0"
                                    Margin="5,0,0,0" />
                        <Image Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Icon_Generate.png"
                                x:Name="GenerateProfileButtonIcon"
                                Width="15"
                                Height="15"
                                Grid.Column="1" />
                    </Grid>
                </Button>
                <Button x:Name="DeleteProfileButton"
                        Style="{StaticResource GenerateButtonStyle}"
                        Tag="DeleteProfileButton"
                        Margin="0,5,0,0"
                        Click="DeleteProfileButton_Click"
                        Height="25"
                        Grid.Column="0"
                        Grid.Row="1">
                    <Grid Width="125">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="15" />
                        </Grid.ColumnDefinitions>

                        <TextBlock Text="Delete Profile"
                                    Tag="DeleteProfileButtonText"
                                    x:Name="DeleteProfileButtonText"
                                    Foreground="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    Grid.Column="0"
                                    Margin="5,0,0,0" />
                        <Image Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Icon_Generate.png"
                                x:Name="DeleteProfileButtonIcon"
                                Width="15"
                                Height="15"
                                Grid.Column="1" />
                    </Grid>
                </Button>
                <StackPanel VerticalAlignment="Center"
                            Orientation="Horizontal"
                            Height="25"
                            Grid.Column="1">
                    <CheckBox x:Name="UpdateBOM"
                                Tag="UpdateBOMCheckbox"
                                Margin="5,0,0,0"
                                VerticalAlignment="Center" />
                    <TextBlock Tag="UpdateBOMText"
                                Text="Update BOM"
                                Margin="5,0,0,0"
                                VerticalAlignment="Center" />
                </StackPanel>
            </Grid>

            <Separator Grid.Row="3"
                       Margin="0,10,0,0" />

            <!-- 4) BIG HEADER -->
            <TextBlock Grid.Row="4"
                       Tag="GenerateJointHeader"
                       Style="{StaticResource TitleTextStyle}"
                       Text="Generate Joint"
                       Width="230"
                       HorizontalAlignment="Center"
                       Margin="0,10,0,0" />

            <!-- 5) CONTENT -->
            <Grid HorizontalAlignment="Center"
                  Margin="0,10,0,0"
                  Width="230"
                  Grid.Row="5"
                  Tag="JointGroupContainer"
                  x:Name="JointGroupContainer">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="80" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="80" />
                </Grid.ColumnDefinitions>
                <RadioButton x:Name="MiterJoint"
                             Tag="MiterJointOption"
                             Width="70"
                             Height="30"
                             GroupName="JointGroup"
                             Grid.Row="0"
                             Grid.Column="0"
                             ToolTip="Miter joint"
                             Margin="0,0,10,10">
                    <Image Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Icon_Joint_1.png"
                           Width="25"
                           Height="25" />
                </RadioButton>
                <RadioButton x:Name="StraightJoint"
                             Tag="StraightJointOption"
                             Width="70"
                             Height="30"
                             GroupName="JointGroup"
                             Grid.Row="0"
                             Grid.Column="1"
                             ToolTip="Straight joint. Selection 1: long part, selection 2: shortened part. End cut perpendicular to selection 1."
                             Margin="0,0,0,10">
                    <Image Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Icon_Joint_3.png"
                           Width="25"
                           Height="25" />
                </RadioButton>
                <RadioButton x:Name="StraightJoint2"
                             Tag="StraightJoint2Option"
                             Width="70"
                             Height="30"
                             GroupName="JointGroup"
                             Grid.Row="0"
                             Grid.Column="2"
                             ToolTip="Straight joint. Selection 1: long part, selection 2: shortened part. End cut parallel to selection 2."
                             Margin="10,0,0,10">
                    <Image Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Icon_Joint_2.png"
                           Width="25"
                           Height="25" />
                </RadioButton>
                <RadioButton x:Name="TJoint"
                             Tag="TJointOption"
                             Width="70"
                             Height="30"
                             GroupName="JointGroup"
                             Grid.Row="1"
                             Grid.Column="0"
                             ToolTip="T joint. Selection 1: long part, selection 2: shortened part."
                             Margin="0,0,10,10">
                    <Image Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Icon_Joint_4.png"
                           Width="25"
                           Height="25" />
                </RadioButton>
                <RadioButton x:Name="NoJoint"
                             Tag="NoJointOption"
                             Width="70"
                             Height="30"
                             GroupName="JointGroup"
                             Grid.Row="1"
                             Grid.Column="1"
                             ToolTip="No joint"
                             Margin="0,0,0,10">
                    <Image Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Icon_Joint_5.png"
                           Width="25"
                           Height="25" />
                </RadioButton>
                <RadioButton x:Name="CutOut"
                             Tag="CutOutOption"
                             Width="70"
                             Height="30"
                             GroupName="JointGroup"
                             Grid.Row="1"
                             Grid.Column="2"
                             ToolTip="Cutout selected profiles"
                             Margin="10,0,0,10">
                    <Image Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Icon_Joint_7.png"
                           Width="25"
                           Height="25" />
                </RadioButton>
                <RadioButton x:Name="Trim"
                             Tag="TrimOption"
                             Width="70"
                             Height="30"
                             GroupName="JointGroup"
                             Grid.Row="2"
                             Grid.Column="0"
                             ToolTip="Cutout on selected planes"
                             Margin="0,0,10,0">
                    <Image Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Icon_Joint_6.png"
                           Width="25"
                           Height="25" />
                </RadioButton>
            </Grid>

            <UniformGrid Columns="2"
                         Rows="2"
                         Grid.Row="6"
                         Width="230"
                         Margin="0,10,0,0">
                <StackPanel />

                <StackPanel Orientation="Horizontal"
                            HorizontalAlignment="Center"
                            Margin="0,0,0,0"
                            Width="115">
                    <TextBlock Tag="RestoreGeometryText"
                               Text="Geometry"
                               VerticalAlignment="Center"
                               Width="85"
                               Margin="0" />
                    <Button x:Name="RestoreGeometry"
                            Style="{StaticResource IconFlatButton}"
                            Width="30"
                            Height="30"
                            Click="RestoreGeometry_Click"
                            ToolTip="Reset full geometry"
                            Margin="0">
                        <Image Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Icon_Restore.png"
                               Width="20"
                               Height="20" />
                    </Button>
                </StackPanel>

                <StackPanel Orientation="Horizontal"
                            Margin="0,0,0,0">
                    <TextBlock Tag="GapLabel"
                               Text="Gap (mm)"
                               VerticalAlignment="Center" />
                    <TextBox x:Name="Gap"
                             Tag="GapInput"
                             Width="40"
                             Height="25"
                             Text="0" />
                </StackPanel>

                <StackPanel Orientation="Horizontal"
                            HorizontalAlignment="Center"
                            Margin="0,0,0,0"
                            Width="115">
                    <TextBlock Tag="RestoreJointText"
                               Text="Joint"
                               VerticalAlignment="Center"
                               Width="85"
                               Margin="0" />
                    <Button x:Name="RestoreJoint"
                            Style="{StaticResource IconFlatButton}"
                            Width="30"
                            Height="30"
                            Click="RestoreJoint_Click"
                            ToolTip="Reset halves of profile part of selected joint"
                            Margin="0">
                        <Image Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Icon_Restore.png"
                               Width="20"
                               Height="20" />
                    </Button>
                </StackPanel>

            </UniformGrid>

            <!-- 6) FOOTER -->
            <Grid Grid.Row="7"
                  Margin="0,10,0,0"
                  Width="230">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="100" />
                </Grid.ColumnDefinitions>

                <Button x:Name="GenerateJoint"
                        Style="{StaticResource GenerateButtonStyle}"
                        Margin="0,0"
                        Click="GenerateJoint_Click"
                        Height="25"
                        Grid.Column="0">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="15" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Execute Joint"
                                   Tag="ExecuteJointText"
                                   x:Name="GenerateJointButtonText"
                                   Foreground="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}"
                                   FontWeight="Bold"
                                   Margin="5,0,8,0"
                                   VerticalAlignment="Center"
                                   Grid.Column="0" />
                        <Image Source="pack://application:,,,/AESCConstruct2026;component/FrameGenerator/UI/Images/Icon_Generate.png"
                               x:Name="GenerateJointButtonIcon"
                               Width="15"
                               Height="15"
                               Grid.Column="1" />
                    </Grid>
                </Button>
                <StackPanel Orientation="Horizontal"
                            Grid.Column="1">
                    <CheckBox x:Name="UpdateBOMJoint"
                              Tag="UpdateBOMJointCheckbox"
                              Margin="5,0,0,0"
                              VerticalAlignment="Center" />
                    <TextBlock Tag="UpdateBOMJointText"
                               Text="Update BOM"
                               Margin="5,0,0,0"
                               VerticalAlignment="Center" />
                </StackPanel>
            </Grid>
        </Grid>
    </ScrollViewer>
</UserControl>
